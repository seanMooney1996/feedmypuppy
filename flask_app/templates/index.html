{% extends "inner_layout.html" %}
{% block inner_body %}
<script src="{{ url_for('static', filename='js/feedTable.js') }}"></script>

<script>
    const data = {{ dispense_data | tojson }};
    console.log("data in script ",data)
    window.addEventListener("load", () => {
       filterTable(0, data);
  });
    function handlePreviousClick(){
        filterTable(-1, data);
    }
    function handleNextClick(){
        filterTable(1, data);
    }

</script>

<div class="content-container">
<div class="table-header display-flex-horizontal">
    <div class="table-header-inner">
        <div class="halfsize thirdsplit">
            <h2 id="dayString" >Date thing</h2>
        </div>
        <div class="halfsize 2 third2split">
            <div class="thirdsplit flex-reverse-row">            
                <button class="buttontable" onclick="handlePreviousClick()" >
                Previous
            </button>
        </div>
        <div class="thirdsplit display-flex-horizontal">
            <h2 id="whenstring">Today</h2>
        </div>           
            <div  class="thirdsplit  flex-row">            
                <button class="buttontable"  onclick="handleNextClick()" id="nextButton">
                Next
            </button>
        </div>

        </div>
    </div>
</div>
<div class="horizontal">
<div class="side-bar">
    <div class="full-box">
        <div class="halfbox"><h3>Total Eaten</h3>
            <p>3 kg</p>
        </div>
     <div  class="halfbox"><h3>Total Dispensed</h3>
            <p>3 kg</p>
        </div>
    </div> 
    <div class="full-box">
        <div  class="halfbox"><h3>Total Not Eaten</h3>
            <p>3 kg</p>
        </div>
        <div  class="halfbox"><h3>Peek Eating Hour</h3>
            <p>17.00</p></div>
    </div> 
    <div class="full-box">
        <div class="halfbox"><h3>Latest Eating</h3>
            <p>19.00</h1></div>
                <div class="halfbox"><h3>Earliest Eating</h3>
                    <p>06.00</h1>
                </div>
    </div> 
    <div class="full-box">
   
        <div class="halfbox"></div>
    </div> 
    <div class="full-box">

        <div class="halfbox"></div>
    </div> 
</div>
<div class="table-container-outer">
    <div class="table-container">
        <table id="dispenseTable">
            <thead>
                <tr>
                    <th>Timestamp</th>
                    <th>Dispensed (kg)</th>
                    <th>Eaten (kg)</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
        <h1 id="dataMessage">No Data for this day.</h1>
    </div>
</div>
</div>
</div>
{% endblock %}
